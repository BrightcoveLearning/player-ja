---
title: mediainfo からのビデオメタデータ
parent: References
---
<article class="bcls-article">
  <h1>mediainfo からのビデオメタデータ</h1>
  <summary>このトピックでは、ビデオ（メタデータ）に関する情報をから取得する方法を学習します。<code translate="No">mediainfo</code>オブジェクト。プロパティは、<code translate="No">loadstart</code>イベントが送出された後に設定されます。</summary>
  <section id="mediainfo" class="bcls-section">
    <h2>mediainfo プロパティ</h2>
    <p class="video-cloud-only"><code translate="No">mediainfo</code>プロパティは、プレーヤー内の現在のビデオに関する情報（メタデータ）を含むオブジェクトです。</p>
    <p class="player-only"><code translate="No">mediainfo</code>プロパティは、プレーヤー内の現在のビデオの情報（メタデータ）を含むオブジェクトです。CMS（コンテンツ管理システム）またはデータベースのビデオ情報をオブジェクトに設定します。</p>
    <p><code translate="No">mediainfo</code>オブジェクトを設定した後は、ビデオの名前や説明などのビデオ情報を表示するときに便利なデータ取得に使用できます。このオブジェクトは、分析のコレクションでも使用されます。</p>
    <h3>mediainfo のフィールド</h3>
    <p><code translate="No">mediainfo</code>プロパティに存在するフィールドは次のとおりです。</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>フィールド名</th>
          <th>説明</th>
          <th>データタイプ</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">accountId</code>   </td>
          <td>ブライトコーブのアカウント</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">adKeys</code></td>
          <td>今後のサポートのために</td>
          <td>なし</td>
        </tr>
        <tr>
          <td><code translate="No">createdAt</code></td>
          <td>作成日時</td>
          <td>UTC (2011-09-28T 20:06:37 .879Z)</td>
        </tr>
        <tr>
          <td><code translate="No">cuePoints</code></td>
          <td>オブジェクトの配列としてのキューポイントのリスト</td>
          <td>オブジェクトの配列</td>
        </tr>
        <tr>
          <td><code translate="No">customFields</code></td>
          <td>カスタムフィールド名と関連する値のキーと値のペア</td>
          <td>オブジェクト</td>
        </tr>
        <tr>
          <td><code translate="No">description</code></td>
          <td>短い説明、最大250文字</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">duration</code></td>
          <td>ビデオの長さ (秒)</td>
          <td>数値</td>
        </tr>
        <tr>
          <td><code translate="No">economics</code></td>
          <td><strong translate="No">AD_SUPPORTED</strong>または<strong translate="No"> FREE のいずれかが含まれています</strong>。メディアが<strong translate="No"> FREE とマークされている場合</strong>、IMA3 広告も FreeWheel 広告も再生されません。</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">id</code></td>
          <td><span class="video-cloud-only">動画 ID </span><span class="player-only">動画に関連付けられた一意の識別子</span> </td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">link</code></td>
          <td><strong translate="No"></strong>リンクテキストと<strong translate="No"> URL</strong>プロパティを含むオブジェクト</td>
          <td>対象</td>
        </tr>
        <tr>
          <td><code translate="No">longDescription</code></td>
          <td>説明、最大 5000 文字</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">name</code>   </td>
          <td>ビデオタイトル</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">poster</code></td>
          <td>ポスター画像へのURL</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">posterSources</code></td>
          <td>ポスターソースを含む配列</td>
          <td>アレイ</td>
        </tr>
        <tr>
          <td><code translate="No">publishedAt</code></td>
          <td>公開日時</td>
          <td>UTC (2011-09-28T 20:06:37 .879Z)</td>
        </tr>
        <tr>
          <td><code translate="No">rawSources</code></td>
          <td>レンディション情報</td>
          <td>アレイ</td>
        </tr>
        <tr>
          <td><code translate="No">referenceId</code></td>
          <td>ビデオ参照 ID 外部データベースまたは CMS <span class="player-only">からのキーまたは識別子</span> </td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">sources</code></td>
          <td>オブジェクトの配列としてのレンディションのリスト。各オブジェクトには少なくとも 2 つの要素 ( <strong translate="No">type</strong>と<strong translate="No"> src) が含まれます。</strong></td>
          <td>オブジェクトの配列</td>
        </tr>
        <tr>
          <td><code translate="No">tags</code></td>
          <td>動画に関連付けられたタグ（メタデータ）</td>
          <td>文字列の配列</td>
        </tr>
        <tr>
          <td><code translate="No">textTracks</code></td>
          <td>キャプションやキューポイントなどのテキストトラックを保持する配列</td>
          <td>アレイ</td>
        </tr>
        <tr>
          <td><code translate="No">thumbnail</code></td>
          <td>サムネイル画像の URL</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No">thumbnailSources</code></td>
          <td>ポスターサムネイルを含むデータ構造</td>
          <td>ひも</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="#variant">variants</a></code></td>
          <td>動画の多言語メタデータを含むオブジェクトの配列。オブジェクトのプロパティ: <code translate="no">言語</code>、<code translate="no">名前</code>、<code translate="no">説明</code>、<code translate="no">long_description</code>、<code translate="no">およびカスタムフィールド</code></td>
          <td>配列</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="code" class="bcls-section video-cloud-only">
    <h2>mediainfo を移入する</h2>
    <p><code translate="No">on()</code><code translate="No">loadstart</code>イベントが送出されるのを待つメソッドを使用して、対応するイベントハンドラで<code translate="No">mediainfo</code>オブジェクト。以下のコードから、<code translate="No">console.log</code><code translate="No">mediainfo</code>オブジェクトが表示されていることに注意してください（111-113行）。</p>
    <pre class="line-numbers" data-start="100">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="4093643993001"
  data-account="1752604059001"
  data-player="VJvZIueYx"
  data-embed="default"
  class="video-js" controls=""&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1752604059001/VJvZIueYx_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    <span class="bcls-highlight">myPlayer.on('loadstart',function(){
      console.log('mediainfo', myPlayer.mediainfo);
    })</span>
  });
&lt;/script&gt;</code></pre>
    <p>コンソールからの表示例を次に示します。</p>
    <aside class="bcls-aside bcls-aside--information">このスクリーンショットでは、旧スタイルのスネークケース (account_id) プロパティ名と、現在のキャメルケース (accountID) の名前が表示されます。</aside>
    <figure class="bcls-figure"><img class="bcls-image" alt="console display" src="/assets/images/references/mediainfo/console-display.png" /></figure>
  </section>
  <section id="populatetheobject" class="bcls-section player-only">
    <h2>オブジェクトにデータを入力します</h2>
    <p>CMS <code translate="No">mediainfo</code>またはデータベースのメタデータをプロパティに手動で入力できます。その後、を使用することができます<code translate="No">mediainfo</code>オブジェクトの<code translate="No">sources</code>プレーヤーにビデオレンディションを入力するプロパティ。</p>
    <aside class="bcls-aside bcls-aside--warning  player-only">注:この手動プロセスの構築と入力の場合<code translate="No">mediainfo</code>オブジェクトが実行されないサードパーティの分析はおそらく失敗します。これは、<code translate="No">mediainfo</code>プラグインがビデオメタデータを取得するための統合ポイントであるためです。</aside>
    <ul>
      <li>32〜37行目：インページ埋め込みプレーヤーの実装</li>
      <li>40～52行目です:ビデオオブジェクトを手動で作成します。実際のデータはCMSまたはデータベースから取得され、動的に構築されたオブジェクト</li>
      <li>54-55号線:プレーヤーが使用できる状態であることを保証し、プレーヤーインスタンスを変数に割り当てます</li>
      <li>56行目です:<code translate="No">mediainfo</code>手動で作成したビデオオブジェクトをプレーヤーのオブジェクトに割り当てます</li>
      <li>57行線:<code translate="No">src</code>プレーヤーのメソッドを使用して、1 つまたは複数のビデオレンディションを割り当てます。ビデオレンディションは、<code translate="No">mediainfo</code>オブジェクトの<code translate="No">sources</code>プロパティを、プレイヤーに</li>
    </ul>
    <pre class="line-numbers" data-start="32">
<code class="language-html" translate="No">  &lt;video-js id="myPlayerID"
    data-account="3676484086001"
    data-player="2433352b-a2e2-4b7e-9a15-2d9ec7f07e9d"
    data-embed="default"
    class="video-js" controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/3676484086001/2433352b-a2e2-4b7e-9a15-2d9ec7f07e9d_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    //Populate video object (normally from database or CMS)
    var videoObject = new Object();
    videoObject.name = "Hand made video object test";
    videoObject.id = "1234msb";
    videoObject.description = "short description for hand made video object";
    videoObject.accountId = "1507807800001";
    videoObject.sources = [{
        "src": "http://solutions.brightcove.com/bcls/assets/videos/Tiger.m3u8",
        "type": "application/x-mpegURL"
      }, {
        "src": "http://solutions.brightcove.com/bcls/assets/videos/Tiger.mp4",
        "type": "video/mp4"
      }];

    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      <span class="bcls-highlight">myPlayer.mediainfo = videoObject;
      myPlayer.src(myPlayer.mediainfo.sources);</span>
    });
  &lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="displaytagsfields">タグとカスタムフィールドを表示する</h2>
    <aside class="bcls-aside bcls-aside--information player-only"><strong translate="No"></strong><strong translate="No"></strong>カスタムフィールドとタグオブジェクトを手動で入力することはほとんどありませんが、可能なので、このコンテンツが含まれます。</aside>
    <p>タグとカスタムフィールドの両方が複雑なデータ構造に格納されます。NS <strong translate="No">カスタムフィールド</strong>オブジェクト内と<strong translate="No">タグ</strong>配列で。次のスクリーンショットは、で強調表示されているカスタムフィールドとタグを示しています。<code translate="No">mediainfo</code>オブジェクト。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="tags and custom fields in console display" src="/assets/images/references/mediainfo/tags-custom-fields.png" /></figure>
    <p>これらの複雑なデータ構造からのデータを表示するには、2種類のループが必要です。<code translate="No">for</code>ループは、タグ配列（16〜20行）を反復処理し、動的に構築されたHTML順序なしのリストを<code translate="No">&lt;div&gt;</code>（行で定義された9)。<code translate="No">for-in</code>ループを使用して、カスタムフィールドオブジェクト (24 ～ 27 行) を繰り返し、動的に構築された HTML 順序なしリストをに挿入します<code translate="No">&lt;div&gt;</code>。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="4093643993001"
  data-account="1752604059001"
  data-player="VJvZIueYx"
  data-embed="default"
  class="video-js" controls=""&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1752604059001/VJvZIueYx_default/index.min.js"&gt;&lt;/script&gt;

&lt;div id="displayInfo"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    myPlayer.on('loadstart',function(){
      //Use JavaScript to display the tags
      <span class="bcls-highlight">var numTags = myPlayer.mediainfo.tags.length;
      displayInfo.innerHTML += "&lt;h1&gt;Tags:&lt;/h1&gt;&lt;ul&gt;";
      for (var i = 0; i &lt; numTags; i++) {
        displayInfo.innerHTML += "&lt;li&gt;" + myPlayer.mediainfo.tags[i] + "&lt;/li&gt;";
      };</span>
      displayInfo.innerHTML += "&lt;/ul&gt;&lt;br /&gt;";

      //Use JavaScript to display custom fields
      <span class="bcls-highlight">displayInfo.innerHTML += "&lt;h1&gt;Custom Fields:&lt;/h1&gt;&lt;ul&gt;";
      for (var key in myPlayer.mediainfo.customFields) {
       displayInfo.innerHTML += "&lt;li&gt;&lt;strong&gt;" + key + "&lt;/strong&gt;: " + myPlayer.mediainfo.customFields[key] + "&lt;/li&gt;";
      }</span>
      displayInfo.innerHTML += "&lt;/ul&gt;";
    })
  });
&lt;/script&gt;</code></pre>
    <p>レンダリングされたHTMLは、このスクリーンショットに示すように表示されます。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="tags and custom display in HTML" src="/assets/images/references/mediainfo/html-display.png" /></figure>
    <aside class="bcls-aside bcls-aside--information video-cloud-only">注:カスタムフィールドキー<strong translate="No"> customfield1</strong>と<strong translate="No"> customfield2 は</strong>、デモ名のみです。カスタムフィールドに格納されているデータを反映するキー名を選択します。</aside>
  </section>
</article>
